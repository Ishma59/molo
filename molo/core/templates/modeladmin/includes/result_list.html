{% load i18n modeladmin_tags static %}
{% if results %}
<table class="listing full-width">
    <thead>
        <tr>
            {% for header in result_headers %}
            <th scope="col" {{ header.class_attrib }} >
                {% if header.sortable %}<a href="{{ header.url_primary }}" id="sortId-{{ header.sort_priority }}" class="icon {% if header.ascending %}icon-arrow-up-after {% else %}icon-arrow-down-after{% endif %}">{% endif %}
                {{ header.text|capfirst }}
                {% if header.sortable %}</a>{% endif %}
           </th>
           {% endfor %}
       </tr>
    </thead>
    <tbody>
    {% for result in results %}
        {% result_row_display forloop.counter0 %}
    {% endfor %}
</tbody>
</table>
{% else %}
    <div class="nice-padding no-search-results">
        <p>{% blocktrans %}Sorry, we didn't find an article with that name. Please try again.{% endblocktrans %}</p>
    </div>
{% endif %}

{% block js %}
    <script src="{% static "js/vanilla-notify.min.js" %}"></script>
    <script type="text/javascript">
    var sortItem = document.getElementById("sortId-1");
    var sortDir;
    if (sortItem.classList.contains("icon-arrow-down-after")) {
        sortDir = "Ascending";
    } else if (sortItem.classList.contains("icon-arrow-up-after")) {
        sortDir = "Descending";
    }
    if (sortItem !== null) {
      vNotify.info({
            title: "Sort Filter:",
            text: sortItem.innerHTML + " - " + sortDir,
            visibleDuration: 500000
        });
    }
    </script>
{% endblock %}
